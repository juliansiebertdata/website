{"title":"New Horizons | Using WebR","markdown":{"yaml":{"title":"New Horizons | Using WebR","description":"We will make WebR work to run R directly inside your browser.","author":[{"name":"Julian Siebert","url":"https://juliansiebert.github.io/website/","affiliation":"Working Student @ Seedforward"}],"date":"01-27-2024","date-modified":"01-27-2024","categories":["WebR","Quarto","R"],"citation":{"url":"https://juliansiebert.github.io/website/posts/2024-01-21-my-blog-post/"},"image":"images/webR-vignette.png","draft":false,"sidebar":false,"reference-location":"margin","citation-location":"margin","citations-hover":true,"engine":"knitr","webr":{"packages":["dplyr","ggplot2","palmerpenguins"]},"filters":["webr"]},"headingText":"Run R inside your browser","containsRefs":false,"markdown":"\n\n\n***\n\nIn this Blogpost I will show you how to use [WebR](https://docs.r-wasm.org/webr/latest/) inside your Quarto documents. WebR is a technology that allows us to run R directly inside our browser. This is a great way to share our analysis with others without the need to install R on their machine. They just need a browser and an internet connection. (It runs even on a smartphone)\n\nTo start and install WebR inside our Quarto document use the **very short** manual at the GitHub page of [Coatless Professor](https://github.com/coatless/quarto-webr).\n\nHe´s even writing a Book about WebR in Quarto right now which you can find [here](https://quarto-webr.thecoatlessprofessor.com/).\n\nOr you watch this Youtube Video from the Coatless Professor.\n\n::: {#vid-webr}\n\n{{< video https://www.youtube.com/watch?v=DoRR2S5lLvk&t=5s >}}\n\n\"WebR R in the Browser\" by the Coatless Professor.\n\n:::\n\n::: {.definitionbox}\n:::: {.definitionbox-header}\n::::: {.definitionbox-icon}\n:::::\nDefinition:\nWebR technology.\n::::\n> WebR uses a technology called [WebAssembly](https://webassembly.org/) to run R inside the browser. It´s basically a very fast and small virtual machine. Using this your browser sets up a instance of R and runs your code inside this instance. We will discuss Pros and Cons later.\n:::\n\n## Setup WebR in Quarto\n\nI recommend taking the steps above to install WebR in your Quarto project. While this Blog Post and the Video might become outdated, the GitHub page of the Coatless Professor will probably always be up to date. I will store the information here for the sake of completeness.\n\nFirst we need to install the quarto-webr extension for Quarto inside our Quarto Project. This step needs to be repeated for every Quarto Project you want to use WebR in. Run the following Code inside your **Terminal**.\n\n```{bash eval=FALSE}\nquarto add coatless/quarto-webr\n```\n\nNow we add the following lines to the YAML header of our Quarto document. Alternatively you can specify this in your \"_quarto.yml\" file to make WebR available for all documents inside your Quarto Project.\n\n```{.yaml filename=\"your_file.qmd\" eval=FALSE}\n---\nengine: knitr\nfilters:\n  - webr\n---\n```\n\nIf you followed the examples above you should be able to use the following code chunk to load the `mtcars` dataset and fit the `mpg` against the `wt` variable using base R.\n\n```{webr-r}\n\nfit <- lm(mpg ~ wt, data = mtcars)\n\nsummary(fit)\n\n```\n\n\n## Using Packages\n\nBeacause WebR uses a technology called [WebAssembly](https://webassembly.org/) you cannot simply use every package inside the R ecosystem easily. But you can have a look at the [WebR Package Repository](https://repo.r-wasm.org/) to see which packages are available.\n\nIf you want to use a package inside WebR it is as easy as adding the package name to the `webr` field in the YAML header of your Quarto document.\n\n```{.yaml filename=\"your_file.qmd\" eval=FALSE}\n---\nformat: html\nengine: knitr\nwebr: \n    packages: [\"dplyr\", \"ggplot2\"]\nfilters:\n  - webr\n---\n```\n\nYou could also use the `webr::install()` function to install packages inside your Quarto document. But the above method is to be preferred because it is faster and more reliable. [See here](https://quarto-webr.thecoatlessprofessor.com/qwebr-using-r-packages.html) for more information.\n\nBut if you want to use a package in only one code cell it can be more efficient to make a inline call like this.\n\n```{r eval=FALSE}\nwebr::install(\"dplyr\")\n```\n\nAnd then use the package in the next code cell.\n\n```{webr-r}\n\nlibrary(dplyr)\n\nglimpse(mtcars)\n\n```\n\n## Hiding and executing Code\n\nWebR provides a way to hide code cells and execute them later. This can be useful if you want to hide the code cells from the user to focus on the analysis or output.\n\nTherefor you specify a `quarto-webr` cell option called `context`. There are three different contexts available.\n\n| `quarto-webr` Context   | Quarto Cell Option | Description                                    |\n|-------------------------|--------------------|------------------------------------------------|\n| `interactive` (default) | `include: true`    | Show both code and results                     |\n| `output`                | `echo: false`      | Suppress showing code, but display the results |\n| `setup`                 | `include: false`   | Suppress showing both code and results         |\n\n:Context Options for WebR {#tbl-context}\n\nFor example you want to load packages and datasets in the background without showing to not distract the reader from the analysis.\n\n```{{webr-r}}\n#| context: setup\nwebr::install(\"palmerpenguins\")\nlibrary(palmerpenguins)\n```\n\n```{webr-r}\n\nglimpse(penguins)\n\n```\n\n### Include advise on how to execute code\n\nThis is how you can execute the Code inside the Code Cells provided by WebR. \n\n- Run selected code (Per Line execution):\n  - macOS: <kbd>⌘</kbd> + <kbd>↩/Return</kbd>\n  - Windows/Linux: <kbd>strg</kbd> + <kbd>↩/Enter</kbd>\n\n- To run the entire code cell, you can simply click the \"Run code\" button, or use the keyboard shortcut:\n  - <kbd>Shift</kbd> + <kbd>↩</kbd>\n\n\n## WebR RevealJS Slides\n\nYou can also embed a WebR RevealJS Slide inside a Quarto Website or other Quarto Documents. This is how you do it.\n\n````html\n<style>\n.slide-deck {\n    border: 3px solid #dee2e6;\n    width: 100%;\n    height: 475px;\n}\n</style>\n\n<div>\n```{=html}\n<iframe class=\"slide-deck\" src=\"path/to/presentation/\"></iframe>\n```\n</div>\n````\n:::{.callout-important}\nDon´t embed an WebR Presentation inside a WebR Document. This will lead to strange behaviour. There should always be only one WebR instance per document.\n:::\n\n","srcMarkdownNoYaml":"\n\n# Run R inside your browser\n\n***\n\nIn this Blogpost I will show you how to use [WebR](https://docs.r-wasm.org/webr/latest/) inside your Quarto documents. WebR is a technology that allows us to run R directly inside our browser. This is a great way to share our analysis with others without the need to install R on their machine. They just need a browser and an internet connection. (It runs even on a smartphone)\n\nTo start and install WebR inside our Quarto document use the **very short** manual at the GitHub page of [Coatless Professor](https://github.com/coatless/quarto-webr).\n\nHe´s even writing a Book about WebR in Quarto right now which you can find [here](https://quarto-webr.thecoatlessprofessor.com/).\n\nOr you watch this Youtube Video from the Coatless Professor.\n\n::: {#vid-webr}\n\n{{< video https://www.youtube.com/watch?v=DoRR2S5lLvk&t=5s >}}\n\n\"WebR R in the Browser\" by the Coatless Professor.\n\n:::\n\n::: {.definitionbox}\n:::: {.definitionbox-header}\n::::: {.definitionbox-icon}\n:::::\nDefinition:\nWebR technology.\n::::\n> WebR uses a technology called [WebAssembly](https://webassembly.org/) to run R inside the browser. It´s basically a very fast and small virtual machine. Using this your browser sets up a instance of R and runs your code inside this instance. We will discuss Pros and Cons later.\n:::\n\n## Setup WebR in Quarto\n\nI recommend taking the steps above to install WebR in your Quarto project. While this Blog Post and the Video might become outdated, the GitHub page of the Coatless Professor will probably always be up to date. I will store the information here for the sake of completeness.\n\nFirst we need to install the quarto-webr extension for Quarto inside our Quarto Project. This step needs to be repeated for every Quarto Project you want to use WebR in. Run the following Code inside your **Terminal**.\n\n```{bash eval=FALSE}\nquarto add coatless/quarto-webr\n```\n\nNow we add the following lines to the YAML header of our Quarto document. Alternatively you can specify this in your \"_quarto.yml\" file to make WebR available for all documents inside your Quarto Project.\n\n```{.yaml filename=\"your_file.qmd\" eval=FALSE}\n---\nengine: knitr\nfilters:\n  - webr\n---\n```\n\nIf you followed the examples above you should be able to use the following code chunk to load the `mtcars` dataset and fit the `mpg` against the `wt` variable using base R.\n\n```{webr-r}\n\nfit <- lm(mpg ~ wt, data = mtcars)\n\nsummary(fit)\n\n```\n\n\n## Using Packages\n\nBeacause WebR uses a technology called [WebAssembly](https://webassembly.org/) you cannot simply use every package inside the R ecosystem easily. But you can have a look at the [WebR Package Repository](https://repo.r-wasm.org/) to see which packages are available.\n\nIf you want to use a package inside WebR it is as easy as adding the package name to the `webr` field in the YAML header of your Quarto document.\n\n```{.yaml filename=\"your_file.qmd\" eval=FALSE}\n---\nformat: html\nengine: knitr\nwebr: \n    packages: [\"dplyr\", \"ggplot2\"]\nfilters:\n  - webr\n---\n```\n\nYou could also use the `webr::install()` function to install packages inside your Quarto document. But the above method is to be preferred because it is faster and more reliable. [See here](https://quarto-webr.thecoatlessprofessor.com/qwebr-using-r-packages.html) for more information.\n\nBut if you want to use a package in only one code cell it can be more efficient to make a inline call like this.\n\n```{r eval=FALSE}\nwebr::install(\"dplyr\")\n```\n\nAnd then use the package in the next code cell.\n\n```{webr-r}\n\nlibrary(dplyr)\n\nglimpse(mtcars)\n\n```\n\n## Hiding and executing Code\n\nWebR provides a way to hide code cells and execute them later. This can be useful if you want to hide the code cells from the user to focus on the analysis or output.\n\nTherefor you specify a `quarto-webr` cell option called `context`. There are three different contexts available.\n\n| `quarto-webr` Context   | Quarto Cell Option | Description                                    |\n|-------------------------|--------------------|------------------------------------------------|\n| `interactive` (default) | `include: true`    | Show both code and results                     |\n| `output`                | `echo: false`      | Suppress showing code, but display the results |\n| `setup`                 | `include: false`   | Suppress showing both code and results         |\n\n:Context Options for WebR {#tbl-context}\n\nFor example you want to load packages and datasets in the background without showing to not distract the reader from the analysis.\n\n```{{webr-r}}\n#| context: setup\nwebr::install(\"palmerpenguins\")\nlibrary(palmerpenguins)\n```\n\n```{webr-r}\n\nglimpse(penguins)\n\n```\n\n### Include advise on how to execute code\n\nThis is how you can execute the Code inside the Code Cells provided by WebR. \n\n- Run selected code (Per Line execution):\n  - macOS: <kbd>⌘</kbd> + <kbd>↩/Return</kbd>\n  - Windows/Linux: <kbd>strg</kbd> + <kbd>↩/Enter</kbd>\n\n- To run the entire code cell, you can simply click the \"Run code\" button, or use the keyboard shortcut:\n  - <kbd>Shift</kbd> + <kbd>↩</kbd>\n\n\n## WebR RevealJS Slides\n\nYou can also embed a WebR RevealJS Slide inside a Quarto Website or other Quarto Documents. This is how you do it.\n\n````html\n<style>\n.slide-deck {\n    border: 3px solid #dee2e6;\n    width: 100%;\n    height: 475px;\n}\n</style>\n\n<div>\n```{=html}\n<iframe class=\"slide-deck\" src=\"path/to/presentation/\"></iframe>\n```\n</div>\n````\n:::{.callout-important}\nDon´t embed an WebR Presentation inside a WebR Document. This will lead to strange behaviour. There should always be only one WebR instance per document.\n:::\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":true,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"embed-resources":true,"include-in-header":["../../web-elements/progressbar.html"],"reference-location":"margin","filters":["webr"],"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.547","resources":["/images*","/web-elements*","/icons*"],"crossref":{"custom":[{"kind":"float","reference-prefix":"Video","key":"vid"}]},"theme":["cosmo","../../styles.scss"],"mainfont":"Roboto","toc-title":"On this page","toc-expand":true,"title-block-banner":true,"title":"New Horizons | Using WebR","description":"We will make WebR work to run R directly inside your browser.","author":[{"name":"Julian Siebert","url":"https://juliansiebert.github.io/website/","affiliation":"Working Student @ Seedforward"}],"date":"01-27-2024","date-modified":"01-27-2024","categories":["WebR","Quarto","R"],"citation":{"url":"https://juliansiebert.github.io/website/posts/2024-01-21-my-blog-post/"},"image":"images/webR-vignette.png","draft":false,"sidebar":false,"citation-location":"margin","citations-hover":true,"webr":{"packages":["dplyr","ggplot2","palmerpenguins"]}},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}